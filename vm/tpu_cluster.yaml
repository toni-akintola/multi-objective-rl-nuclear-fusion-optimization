cluster_name: my-tpu-cluster

max_workers: 4

provider:
    type: gcp
    region: us-central1
    availability_zone: us-central1-a

available_node_types:
    ray_head_default:
        resources: {}
        node_config:
            machineType: n1-standard-8
            disks:
              - boot: true
                autoDelete: true
                type: PERSISTENT
                initializeParams:
                    diskSizeGb: 50
                    sourceImage: projects/deeplearning-platform-release/global/images/family/common-cpu
    
    tpu_worker:
        min_workers: 1
        max_workers: 4
        resources:
            TPU: 1
        node_config:
            acceleratorType: v2-8  # or v3-8, v4-8 depending on your needs
            runtimeVersion: tpu-vm-base
            
head_node_type: ray_head_default